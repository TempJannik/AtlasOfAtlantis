.navbar-toggler {
    appearance: none;
    cursor: pointer;
    width: 3.5rem;
    height: 2.5rem;
    color: var(--doa-text-primary);
    position: absolute;
    top: var(--doa-space-2);
    right: var(--doa-space-4);
    border: 1px solid var(--doa-border-primary);
    border-radius: var(--doa-radius-md);
    background: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28245, 158, 11, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") no-repeat center/1.75rem var(--doa-bg-surface);
    transition: var(--doa-transition-base);
    box-shadow: var(--doa-shadow-sm);
}

.navbar-toggler:hover {
    background-color: var(--doa-bg-elevated);
    border-color: var(--doa-border-accent);
    box-shadow: var(--doa-shadow-md);
}

.navbar-toggler:checked {
    background-color: var(--doa-secondary-600);
    border-color: var(--doa-secondary-500);
    box-shadow: var(--doa-shadow-glow);
}

.top-row {
    min-height: 3.5rem;
    background: linear-gradient(135deg, var(--doa-bg-surface) 0%, var(--doa-bg-elevated) 100%);
    border-bottom: 1px solid var(--doa-border-primary);
    position: relative;
}

.top-row::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--doa-gold-600), var(--doa-secondary-600), var(--doa-gold-600));
    opacity: 0.7;
}

.navbar-brand {
    font-size: var(--doa-text-xl);
    font-weight: var(--doa-font-bold);
    color: var(--doa-text-primary);
    text-shadow: var(--doa-text-shadow);
    background: linear-gradient(135deg, var(--doa-gold-400), var(--doa-gold-600));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    transition: var(--doa-transition-base);
}

.navbar-brand:hover {
    text-shadow: 0 0 12px rgba(245, 158, 11, 0.6);
}

.bi {
    display: inline-block;
    position: relative;
    width: 1.25rem;
    height: 1.25rem;
    margin-right: var(--doa-space-3);
    top: -1px;
    background-size: cover;
    transition: var(--doa-transition-fast);
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

.bi-house-door-fill-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23d1d5db' class='bi bi-house-door-fill' viewBox='0 0 16 16'%3E%3Cpath d='M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5Z'/%3E%3C/svg%3E");
}

.bi-people-fill-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23d1d5db' class='bi bi-people-fill' viewBox='0 0 16 16'%3E%3Cpath d='M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z'/%3E%3Cpath fill-rule='evenodd' d='M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z'/%3E%3Cpath d='M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z'/%3E%3C/svg%3E");
}

.bi-shield-fill-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23d1d5db' class='bi bi-shield-fill' viewBox='0 0 16 16'%3E%3Cpath d='M5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z'/%3E%3C/svg%3E");
}

.bi-upload-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23d1d5db' class='bi bi-upload' viewBox='0 0 16 16'%3E%3Cpath d='M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z'/%3E%3Cpath d='M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z'/%3E%3C/svg%3E");
}

.bi-clock-history-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23d1d5db' class='bi bi-clock-history' viewBox='0 0 16 16'%3E%3Cpath d='M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1.001.025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z'/%3E%3Cpath d='M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z'/%3E%3Cpath d='M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z'/%3E%3C/svg%3E");
}

.bi-plus-square-fill-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-plus-square-fill' viewBox='0 0 16 16'%3E%3Cpath d='M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0z'/%3E%3C/svg%3E");
}

.bi-list-nested-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-list-nested' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M4.5 11.5A.5.5 0 0 1 5 11h10a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 1 3h10a.5.5 0 0 1 0 1H1a.5.5 0 0 1-.5-.5z'/%3E%3C/svg%3E");
}

.nav-item {
    font-size: var(--doa-text-sm);
    padding-bottom: var(--doa-space-2);
    margin: 0 var(--doa-space-3);
}

    .nav-item:first-of-type {
        padding-top: var(--doa-space-4);
    }

    .nav-item:last-of-type {
        padding-bottom: var(--doa-space-4);
    }

    .nav-item ::deep .nav-link {
        color: var(--doa-text-secondary);
        background: none;
        border: 1px solid transparent;
        border-radius: var(--doa-radius-md);
        height: 3rem;
        display: flex;
        align-items: center;
        line-height: 3rem;
        width: 100%;
        padding: 0 var(--doa-space-4);
        font-weight: var(--doa-font-medium);
        transition: var(--doa-transition-base);
        position: relative;
        overflow: hidden;
    }

    .nav-item ::deep .nav-link::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        background: linear-gradient(180deg, var(--doa-gold-500), var(--doa-secondary-500));
        transform: scaleY(0);
        transition: var(--doa-transition-base);
    }

.nav-item ::deep a.active {
    background: linear-gradient(135deg, var(--doa-secondary-600), var(--doa-secondary-700));
    color: var(--doa-text-primary);
    border-color: var(--doa-secondary-500);
    box-shadow: var(--doa-shadow-md), var(--doa-shadow-glow);
}

.nav-item ::deep a.active::before {
    transform: scaleY(1);
}

.nav-item ::deep a.active .bi {
    filter: drop-shadow(0 0 4px rgba(245, 158, 11, 0.6));
}

.nav-item ::deep .nav-link:hover {
    background: var(--doa-bg-elevated);
    color: var(--doa-text-primary);
    border-color: var(--doa-border-accent);
    box-shadow: var(--doa-shadow-sm);
    transform: translateX(4px);
}

.nav-item ::deep .nav-link:hover::before {
    transform: scaleY(0.6);
}

.nav-item ::deep .nav-link:hover .bi {
    filter: drop-shadow(0 0 4px rgba(245, 158, 11, 0.4));
}

.nav-scrollable {
    display: none;
    background: var(--doa-bg-secondary);
    border-radius: 0 0 var(--doa-radius-lg) var(--doa-radius-lg);
    margin: 0 var(--doa-space-2);
    box-shadow: var(--doa-shadow-lg);
}

.navbar-toggler:checked ~ .nav-scrollable {
    display: block;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@media (min-width: 641px) {
    .navbar-toggler {
        display: none;
    }

    .nav-scrollable {
        /* Never collapse the sidebar for wide screens */
        display: block;
        background: transparent;
        margin: 0;
        box-shadow: none;
        border-radius: 0;

        /* Allow sidebar to scroll for tall menus */
        height: calc(100vh - 3.5rem);
        overflow-y: auto;
        padding-top: var(--doa-space-4);
    }

    /* Custom scrollbar for navigation */
    .nav-scrollable::-webkit-scrollbar {
        width: 4px;
    }

    .nav-scrollable::-webkit-scrollbar-track {
        background: transparent;
    }

    .nav-scrollable::-webkit-scrollbar-thumb {
        background: var(--doa-border-primary);
        border-radius: var(--doa-radius-full);
    }

    .nav-scrollable::-webkit-scrollbar-thumb:hover {
        background: var(--doa-border-accent);
    }
}
